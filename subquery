-- Exercício 1: 
SELECT 
    nome_funcionario
FROM
    funcionario
WHERE
    sigla_depto IN (SELECT 
            sigla_depto
        FROM
            departamento
        WHERE
            nome_depto LIKE 'Recursos Humanos');



-- Exercício 2:
SELECT 
    nome_funcionario
FROM
    funcionario
WHERE
    codfuncionario IN (SELECT 
            codfuncionario
        FROM
            projeto
        WHERE
            sigla_depto LIKE '%MKT%'
                OR sigla_depto LIKE '%hr%');



-- Exercício 3:
SELECT 
    departamento.nome_depto, SUM(funcionario.salario)
FROM
    departamento,
    funcionario
WHERE
    departamento.sigla_depto = funcionario.sigla_depto
GROUP BY departamento.nome_depto;



-- Exercício 4:
SELECT 
    nome_funcionario
FROM
    funcionario
WHERE
    sigla_depto IN (SELECT 
            sigla_depto
        FROM
            projeto
        WHERE
            sigla_depto = 'it'
                AND funcionario.salario > (SELECT 
                    AVG(salario)
                FROM
                    funcionario));
                    


-- Exercício 5:
SELECT 
    departamento.nome_depto, COUNT(funcionario.nome_funcionario)
FROM
    departamento,
    funcionario
WHERE
    departamento.sigla_depto = funcionario.sigla_depto
GROUP BY departamento.nome_depto;



-- Exercício 6: 
SELECT 
    nome_funcionario
FROM
    funcionario
WHERE
    sigla_depto IN (SELECT 
            sigla_depto
        FROM
            projeto
        WHERE
            sigla_depto = 'hr'
                AND funcionario.salario > (SELECT 
                    AVG(salario)
                FROM
                    funcionario
                WHERE
                    sigla_depto = 'hr'));



-- Exercício 7:
SELECT 
    departamento.nome_depto,
    GROUP_CONCAT(funcionario.nome_funcionario)
FROM
    departamento,
    funcionario
WHERE
    departamento.sigla_depto = funcionario.sigla_depto
GROUP BY departamento.nome_depto;
